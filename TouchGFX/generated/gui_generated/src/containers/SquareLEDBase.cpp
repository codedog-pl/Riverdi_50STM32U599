/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/containers/SquareLEDBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

SquareLEDBase::SquareLEDBase() :
    frameCountBlinkAnimationInterval(0)
{
    setWidth(64);
    setHeight(64);
    shape.setPosition(7, 7, 50, 50);
    shape.setColor(touchgfx::Color::getColorFromRGB(68, 68, 68));
    shape.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    shape.setBorderSize(5);
    add(shape);

    red.setPosition(0, 0, 64, 64);
    red.setVisible(false);
    lightR.setPosition(7, 7, 50, 50);
    lightR.setColor(touchgfx::Color::getColorFromRGB(255, 0, 0));
    lightR.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    lightR.setBorderSize(5);
    red.add(lightR);

    glowR.setBitmap(touchgfx::Bitmap(BITMAP_CIRCULAR_GRADIENT_R_ID));
    glowR.setPosition(0, 0, 64, 64);
    glowR.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    red.add(glowR);

    add(red);

    green.setPosition(0, 0, 64, 64);
    green.setVisible(false);
    lightGreen.setPosition(7, 7, 50, 50);
    lightGreen.setColor(touchgfx::Color::getColorFromRGB(0, 255, 0));
    lightGreen.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    lightGreen.setBorderSize(5);
    green.add(lightGreen);

    glowGreen.setBitmap(touchgfx::Bitmap(BITMAP_CIRCULAR_GRADIENT_G_ID));
    glowGreen.setPosition(0, 0, 64, 64);
    glowGreen.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    green.add(glowGreen);

    add(green);

    yellow.setPosition(0, 0, 64, 64);
    yellow.setVisible(false);
    lightYellow.setPosition(7, 7, 50, 50);
    lightYellow.setColor(touchgfx::Color::getColorFromRGB(255, 204, 0));
    lightYellow.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    lightYellow.setBorderSize(5);
    yellow.add(lightYellow);

    glowYellow.setBitmap(touchgfx::Bitmap(BITMAP_CIRCULAR_GRADIENT_Y_ID));
    glowYellow.setPosition(0, 0, 64, 64);
    glowYellow.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    yellow.add(glowYellow);

    add(yellow);

    highlight.setBitmap(touchgfx::Bitmap(BITMAP_CIRCULAR_GRADIENT_W_ID));
    highlight.setPosition(-8, -8, 80, 80);
    highlight.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    highlight.setAlpha(144);
    add(highlight);

touchgfx::Application::getInstance()->registerTimerWidget(this);
}

SquareLEDBase::~SquareLEDBase()
{
touchgfx::Application::getInstance()->unregisterTimerWidget(this);
}

void SquareLEDBase::initialize()
{

}

void SquareLEDBase::handleTickEvent()
{
    frameCountBlinkAnimationInterval++;
    if(frameCountBlinkAnimationInterval == TICK_BLINKANIMATION_INTERVAL)
    {
        //BlinkAnimation
        //When every N tick call tick on SquareLED
        //Call tick
        tick();
        frameCountBlinkAnimationInterval = 0;
    }
}
